<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Messages for <%= user %></title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 text-gray-800">

    <div class="container mx-auto max-w-3xl py-8 px-4">
        <h1 class="text-center text-2xl lg:text-3xl font-semibold text-gray-800 mb-4"><%= user %></h1>
        <h1 class="text-center text-xl lg:text-2xl text-gray-600 mb-6">Total Messages: <%= messages.length %></h1>
        <div class="flex justify-center mb-6">
            <a href="/messages" class="text-blue-500 hover:text-blue-700 transition-colors">← Back to Users</a>
        </div>
        
        <% if (messages && messages.length > 0) { %>
            <% messages.forEach(function(message) { %>
                <div class="message bg-white rounded-lg p-6 mb-6 shadow-lg hover:shadow-xl transition-transform transform hover:-translate-y-1">
                    <p class="text-lg font-semibold text-gray-800 mb-2"><strong><%= message.sender_name %>:</strong></p>
                    <p class="text-base text-gray-600"><%= message.content || 'No content available' %></p>
                    <p class="timestamp text-right text-sm text-gray-500 mt-4"><%= new Date(message.timestamp_ms).toLocaleString() %></p>
                </div>
            <% }); %>
        <% } else { %>
            <p class="no-messages text-center text-lg text-gray-500 mt-10">No messages found.</p>
        <% } %>
    </div>

</body>
</html>
